```mermaid
erDiagram
    ВОДИТЕЛЬ {
        string Табельный_номер PK
        string ФИО
        string Категория_прав
        date Дата_найма
    }

    АВТОБУС {
        string Госномер PK
        string Марка
        string Модель
        int Год_выпуска
        int Вместимость
    }

    МАРШРУТ {
        string Номер_маршрута PK
        string Начальный_пункт
        string Конечный_пункт
    }

    РЕЙС {
        int Рейс_ID PK
        date Дата
        time Время_выезда
        time Время_возврата
    }

    ЖУРНАЛ_УЧЕТА {
        int Запись_ID PK
        time Факт_время_начала
        time Факт_время_конца
    }

    ВОДИТЕЛЬ ||--o{ РЕЙС : "выполняет"
    АВТОБУС ||--o{ РЕЙС : "назначен на"
    МАРШРУТ ||--o{ РЕЙС : "содержит"
    РЕЙС ||--|| ЖУРНАЛ_УЧЕТА : "отражается в"
    ВОДИТЕЛЬ }|--|| АВТОБУС : "закреплен за"
    АВТОБУС }|--|| МАРШРУТ : "работает на"
```
**Контекстная диаграмма**

```mermaid
flowchart TD
    %% Определяем внешние сущности (прямоугольники)
    A[<b>АВТОБУСНЫЙ ПАРК<br/>Система учета</b>] --> System
    
    subgraph External[Внешние сущности]
        direction LR
        Dispatcher[Диспетчер]
        Driver[Водитель]
        Mechanic[Механик]
        Accountant[Бухгалтер]
        Director[Директор]
    end
    
    %% Входные потоки (слева)
    Dispatcher -->|"ВХОД: данные рейса<br/>номер маршрута, время,<br/>водитель, автобус"| A
    Driver -->|"ВХОД: отметка о выезде/возврате<br/>фактическое время"| A
    Mechanic -->|"ВХОД: данные о ремонте<br/>дата, вид работ, запчасти"| A
    
    %% Выходные потоки (справа)
    A -->|"ВЫХОД: график работы<br/>расписание рейсов на день"| Dispatcher
    A -->|"ВЫХОД: путевой лист<br/>задание на рейс"| Driver
    A -->|"ВЫХОД: отчет о пробеге<br/>график ТО"| Mechanic
    A -->|"ВЫХОД: расчет зарплаты<br/>отчет по топливу"| Accountant
    A -->|"ВЫХОД: аналитика работы парка<br/>KPI, метрики"| Director
    
    %% Центральная система
    System[<b>ЦЕНТРАЛЬНАЯ СИСТЕМА<br/>УЧЕТА АВТОБУСНОГО ПАРКА</b>]
    
    %% Дополнительные входы/выходы
    Accountant -->|"ВХОД: тарифы, нормы расхода<br/>ставки водителей"| A
    A -->|"ВЫХОД: табель учета рабочего времени"| Accountant
    Director -->|"ВХОД: запросы аналитики<br/>параметры отчетов"| A
```
**Диаграмма декомпозиций функций**
```mermaid
flowchart TD
    System[<b>Система учета автобусного парка</b>]
    
    %% Все основные функции имеют по 2-3 подфункции
    System --> A[Управление автобусами]
    System --> B[Управление водителями]
    System --> C[Управление рейсами]
    
    A --> A1[Регистрация автобусов]
    A --> A2[Учет характеристик]
    A --> A3[Назначение на маршруты]
    
    B --> B1[Регистрация водителей]
    B --> B2[Учет документов]
    B --> B3[Составление графиков]
    
    C --> C1[Планирование рейсов]
    C --> C2[Назначение экипажей]
    C --> C3[Учет выполнения]
    
    %% Дополнительные модули
    System --> D[Техническое обслуживание]
    System --> E[Финансовый учет]
    
    D --> D1[Планирование ТО]
    D --> D2[Учет ремонтов]
    D --> D3[Заявки на запчасти]
    
    E --> E1[Расчет зарплаты]
    E --> E2[Учет расходов]
    E --> E3[Формирование отчетов]
```
